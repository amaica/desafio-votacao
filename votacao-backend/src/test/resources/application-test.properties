spring.application.name=votacao-backend-test

# H2 em memória
spring.datasource.url=jdbc:h2:mem:votacao;MODE=MySQL;DB_CLOSE_DELAY=-1;DATABASE_TO_UPPER=false
spring.datasource.username=sa
spring.datasource.password=
spring.datasource.driverClassName=org.h2.Driver

# JPA/Flyway
spring.jpa.hibernate.ddl-auto=none
spring.jpa.open-in-view=false
spring.jpa.properties.hibernate.jdbc.time_zone=UTC
spring.flyway.enabled=true
spring.flyway.locations=classpath:db/migration

# Logs mais silenciosos nos testes
logging.level.org.hibernate.engine.jdbc.spi.SqlExceptionHelper=OFF
logging.level.org.springframework=ERROR
logging.level.com.example.votacao=INFO

# Desliga o client externo de CPF nos testes
cpf.check.enabled=false

# Não precisamos do context-path versionado nos testes
server.servlet.context-path=
